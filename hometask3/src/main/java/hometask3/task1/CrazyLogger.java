package hometask3.task1;import java.util.ArrayList;import java.util.List;import java.util.regex.Matcher;import java.util.regex.Pattern;public class CrazyLogger implements CrazyLoggerImpl {    private StringBuilder logger = new StringBuilder();    @Override    public StringBuilder getDate(String msg, StringBuilder stringBuilder) {        StringBuilder result = new StringBuilder();        Matcher matcher = Pattern.compile("(?=(Message #2))").matcher(stringBuilder);        List<Integer> pos = new ArrayList<>();        while (matcher.find())        {            pos.add(matcher.start());        }        System.out.println(pos);        if (pos.size() == 0)            return result.append("There's no such a log with message '").append(msg).append("'");        for (int index: pos) {            result.append(stringBuilder.substring(index - 21,index - 3)).append("\n");        }        return result;    }    @Override    public StringBuilder getMsg(String date, StringBuilder stringBuilder) {        StringBuilder result = new StringBuilder();        Matcher matcher = Pattern.compile("(?=(05-07-1979 : 08-20))").matcher(stringBuilder);        List<Integer> pos = new ArrayList<>();        while (matcher.find())        {            pos.add(matcher.start());        }        System.out.println(pos);        if (pos.size() == 0)            return result.append("There're no logs on this date '").append(date).append("'");        for (int index: pos) {            String subString = stringBuilder.substring(index + date.length() + 3);            int cutIndex = subString.indexOf(';');            result.append(subString.substring(0,cutIndex + 2));        }        return result;    }    @Override    public List<String> getMsgsInInterval(String date1, String date2, StringBuilder stringBuilder) {        List<String> messageList = new ArrayList<>();        int startIndex = stringBuilder.indexOf(date1);        int endIndex = stringBuilder.lastIndexOf(date2);        String intervalSubString = stringBuilder.substring(startIndex,endIndex);        int index = 0;        while (intervalSubString.indexOf(';',index) != -1) {            String msg = stringBuilder.substring(index, intervalSubString.indexOf(';',index));            messageList.add(msg);            index = intervalSubString.indexOf(';',index) + 1;        }        return messageList;    }    public StringBuilder getLogger() {        return logger;    }}